# RDS 사용 이유

- EC2에 DB를 설치해서 사용해도 되는데 분리하는 이유
- 서버와 DB를 분리시켜두면 서버가 망가져도 DB가 손상되지 않기 때문에 더 안전함
- 기능적 분리
    - EC2 : 웹서버나 애플리케이션 서버 등 다양한 기능을 수행하는 일반 서버
    - RDS: 관계형 데이터베이스 서버로 데이터 저장 및 관리 기능을 전문적으로 수행

# 1단계 : RDS 인스턴스 생성

RDS의 경우 곳곳에 비용 청구되는 항목이 숨겨져 있으니 생성 후에 청구서를 꼭 확인해봐야 함!

1. RDS 검색 - 선택
2. 데이터베이스 생성 클릭
3. 데이터베이스 생성 정보
    - 데이터베이스 생성 방식 선택 : 표준 생성
    - 엔진 옵션
        - MariaDB
        - 엔진버전 : MariaDB 11.4.5
    - 템플릿 : 프리티어
    - 설정  (* 사용자 정보로 DB에 접근하니 메모해둘 것)
        - DB 인스턴스 식별자 : 입력하기
        - 마스터 사용자 이름 : 입력하기
        - 마스터 암호 : 입력하기
    - 인스턴스 구성 : db.t4g.micro (*  가장 낮은 가격)
    - 스토리지
        - 할당된 스토리지 : 20 (* 프리티어는 20까지만 지원, 이상으로 등록시 비용 청구)
            - 추가스토리지 구성
                - 스토리지 자동 조정 활성화 : 해제 (비용 청구됨 조심!)
    - 연결
        - 퍼블릭 액세스 : 예
    - 추가 구성
        - 데이터베이스 옵션
            - 초기 데이터베이스 이름 : 입력하기
        - 백업 : 자동 백업을 활성화합니다. 해제 (비용 청구됨 조심!)
4. 데이터 베이스 생성 클릭

# 2단계 : RDS 설정

**[파라미터 그룹 생성]**

1. 파라미터 그룹
2. 파라미터 그룹 생성
3. 파라미터 그룹 세부 정보
    - 파라미터 그룹 이름 : 입력하기
    - 설명 : 입력하기
    - 엔진 유형 : MariaDB
    - 파라미터 그룹 패밀리 : mariadb11.4
4. 생성

**[파라미터 그룹 편집]**

1. 파라미터 그룹 - 이름 선택 
2. 편집
3. 수정 가능한 파라미터  
    - time-zone : Asia/Seoul
    - char : utf8mb4
    
    ![이미지 설명](/devops/images/image.png)
    
    - collation
        - collation_connection : utf8mb4_general_ci
        - collation_server : utf8mb4_general_ci
4. 변경 사항 저장

# 3단계 : 데이터 베이스-파라미터 그룹 연결

1. 데이터 베이스
2. 데이터 베이스 선택 - 수정
3. 추가 구성 
    - 데이터베이스 옵션
        - DB파라미터 그룹 : 생성한 그룹 선택
4. 계속
5. 수정 예약 
    - 즉시 적용
6. DB 인스턴스 수정
7. 데이터베이스 선택 - 작업 클릭 - 재부팅 

# 4단계 : 인바운드 규칙 설정

1. DB 식별자 선택
2. 보안그룹 - inbound 관련 규칙 선택 - 인바운드 규칙 편집
3. 규칙추가
    - 유형 : MySQL/Aurora
    - 프로토콜 : TCP(자동)
    - 포트범위 : 3306(자동)
    - 소스 유형 : 사용자지정
    - 소스 : 본인 아이피 주소/32

# 확인

1. 명령어 프롬프트

```jsx
// mysql -h [엔드포인트] -P 3306 -u [아이디] -p [DB이름]

입력 후 PW 입력

```
